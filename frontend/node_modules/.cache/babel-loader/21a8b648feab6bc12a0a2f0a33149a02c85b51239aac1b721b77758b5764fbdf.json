{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mohit\\\\OneDrive\\\\Desktop\\\\finance_tracker_main\\\\frontend\\\\src\\\\components\\\\Charts.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { Bar, Line } from 'react-chartjs-2';\nimport { getTransactions } from '../services/transactionService';\nimport { formatDate } from '../utils/formatDate';\nimport { Chart as ChartJS, CategoryScale, LinearScale, BarElement, LineElement, PointElement, Title, Tooltip, Legend } from 'chart.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(CategoryScale, LinearScale, BarElement, LineElement, PointElement, Title, Tooltip, Legend);\nfunction Charts({\n  transactions\n}) {\n  _s();\n  const [categoryChartData, setCategoryChartData] = useState({\n    labels: [],\n    datasets: []\n  });\n  const [dateChartData, setDateChartData] = useState({\n    labels: [],\n    datasets: []\n  });\n  useEffect(() => {\n    if (transactions && transactions.length > 0) {\n      // Prepare data for Expenses by Category (Bar Chart) with cap\n      const expensesByCategory = transactions.filter(t => t.type === 'expense').map(t => ({\n        ...t,\n        amount: Math.min(Math.abs(t.amount), 10000) * (t.amount < 0 ? -1 : 1)\n      })).reduce((acc, t) => {\n        acc[t.category] = (acc[t.category] || 0) + t.amount;\n        return acc;\n      }, {});\n      const categoryLabels = Object.keys(expensesByCategory);\n      const categoryData = Object.values(expensesByCategory);\n\n      // Prepare data for Expenses by Date (Line Chart) with cap\n      const expensesByDate = transactions.filter(t => t.type === 'expense').map(t => ({\n        ...t,\n        amount: Math.min(Math.abs(t.amount), 10000) * (t.amount < 0 ? -1 : 1)\n      })).reduce((acc, t) => {\n        const date = formatDate(t.date);\n        acc[date] = (acc[date] || 0) + t.amount;\n        return acc;\n      }, {});\n      const dateLabels = Object.keys(expensesByDate).sort();\n      const dateData = Object.values(expensesByDate);\n      setCategoryChartData({\n        labels: categoryLabels,\n        datasets: [{\n          label: 'Expenses by Category',\n          data: categoryData,\n          backgroundColor: ['#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', '#9966FF'],\n          borderColor: ['#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', '#9966FF'],\n          borderWidth: 1\n        }]\n      });\n      setDateChartData({\n        labels: dateLabels,\n        datasets: [{\n          label: 'Expenses by Date',\n          data: dateData,\n          fill: false,\n          borderColor: '#FF6384',\n          tension: 0.1\n        }]\n      });\n    }\n  }, [transactions]);\n  const chartOptions = {\n    responsive: true,\n    maintainAspectRatio: false,\n    scales: {\n      y: {\n        beginAtZero: true,\n        title: {\n          display: true,\n          text: 'Amount ($)'\n        }\n      }\n    },\n    plugins: {\n      legend: {\n        position: 'top'\n      },\n      title: {\n        display: true,\n        text: ''\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"form-title\",\n      children: \"Expense Analysis\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        height: '400px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Expenses by Category\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Bar, {\n        data: categoryChartData,\n        options: {\n          ...chartOptions,\n          plugins: {\n            ...chartOptions.plugins,\n            title: {\n              text: 'Expenses by Category'\n            }\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        height: '400px',\n        marginTop: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Expenses by Date\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Line, {\n        data: dateChartData,\n        options: {\n          ...chartOptions,\n          scales: {\n            ...chartOptions.scales,\n            x: {\n              title: {\n                display: true,\n                text: 'Date'\n              }\n            }\n          },\n          plugins: {\n            ...chartOptions.plugins,\n            title: {\n              text: 'Expenses by Date'\n            }\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 5\n  }, this);\n}\n_s(Charts, \"c4HLI2ZZkUmTCKTtWseUs2dRcyg=\");\n_c = Charts;\nexport default Charts;\nvar _c;\n$RefreshReg$(_c, \"Charts\");","map":{"version":3,"names":["useEffect","useState","Bar","Line","getTransactions","formatDate","Chart","ChartJS","CategoryScale","LinearScale","BarElement","LineElement","PointElement","Title","Tooltip","Legend","jsxDEV","_jsxDEV","register","Charts","transactions","_s","categoryChartData","setCategoryChartData","labels","datasets","dateChartData","setDateChartData","length","expensesByCategory","filter","t","type","map","amount","Math","min","abs","reduce","acc","category","categoryLabels","Object","keys","categoryData","values","expensesByDate","date","dateLabels","sort","dateData","label","data","backgroundColor","borderColor","borderWidth","fill","tension","chartOptions","responsive","maintainAspectRatio","scales","y","beginAtZero","title","display","text","plugins","legend","position","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","height","options","marginTop","x","_c","$RefreshReg$"],"sources":["C:/Users/mohit/OneDrive/Desktop/finance_tracker_main/frontend/src/components/Charts.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport { Bar, Line } from 'react-chartjs-2';\r\nimport { getTransactions } from '../services/transactionService';\r\nimport { formatDate } from '../utils/formatDate';\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  LineElement,\r\n  PointElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n} from 'chart.js';\r\n\r\nChartJS.register(CategoryScale, LinearScale, BarElement, LineElement, PointElement, Title, Tooltip, Legend);\r\n\r\nfunction Charts({ transactions }) {\r\n  const [categoryChartData, setCategoryChartData] = useState({ labels: [], datasets: [] });\r\n  const [dateChartData, setDateChartData] = useState({ labels: [], datasets: [] });\r\n\r\n  useEffect(() => {\r\n    if (transactions && transactions.length > 0) {\r\n      // Prepare data for Expenses by Category (Bar Chart) with cap\r\n      const expensesByCategory = transactions\r\n        .filter(t => t.type === 'expense')\r\n        .map(t => ({ ...t, amount: Math.min(Math.abs(t.amount), 10000) * (t.amount < 0 ? -1 : 1) }))\r\n        .reduce((acc, t) => {\r\n          acc[t.category] = (acc[t.category] || 0) + t.amount;\r\n          return acc;\r\n        }, {});\r\n      const categoryLabels = Object.keys(expensesByCategory);\r\n      const categoryData = Object.values(expensesByCategory);\r\n\r\n      // Prepare data for Expenses by Date (Line Chart) with cap\r\n      const expensesByDate = transactions\r\n        .filter(t => t.type === 'expense')\r\n        .map(t => ({ ...t, amount: Math.min(Math.abs(t.amount), 10000) * (t.amount < 0 ? -1 : 1) }))\r\n        .reduce((acc, t) => {\r\n          const date = formatDate(t.date);\r\n          acc[date] = (acc[date] || 0) + t.amount;\r\n          return acc;\r\n        }, {});\r\n      const dateLabels = Object.keys(expensesByDate).sort();\r\n      const dateData = Object.values(expensesByDate);\r\n\r\n      setCategoryChartData({\r\n        labels: categoryLabels,\r\n        datasets: [{\r\n          label: 'Expenses by Category',\r\n          data: categoryData,\r\n          backgroundColor: ['#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', '#9966FF'],\r\n          borderColor: ['#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', '#9966FF'],\r\n          borderWidth: 1,\r\n        }],\r\n      });\r\n\r\n      setDateChartData({\r\n        labels: dateLabels,\r\n        datasets: [{\r\n          label: 'Expenses by Date',\r\n          data: dateData,\r\n          fill: false,\r\n          borderColor: '#FF6384',\r\n          tension: 0.1,\r\n        }],\r\n      });\r\n    }\r\n  }, [transactions]);\r\n\r\n  const chartOptions = {\r\n    responsive: true,\r\n    maintainAspectRatio: false,\r\n    scales: { y: { beginAtZero: true, title: { display: true, text: 'Amount ($)' } } },\r\n    plugins: { legend: { position: 'top' }, title: { display: true, text: '' } },\r\n  };\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <h2 className=\"form-title\">Expense Analysis</h2>\r\n      <div style={{ height: '400px' }}>\r\n        <h4>Expenses by Category</h4>\r\n        <Bar data={categoryChartData} options={{ ...chartOptions, plugins: { ...chartOptions.plugins, title: { text: 'Expenses by Category' } } }} />\r\n      </div>\r\n      <div style={{ height: '400px', marginTop: '20px' }}>\r\n        <h4>Expenses by Date</h4>\r\n        <Line data={dateChartData} options={{ ...chartOptions, scales: { ...chartOptions.scales, x: { title: { display: true, text: 'Date' } } }, plugins: { ...chartOptions.plugins, title: { text: 'Expenses by Date' } } }} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Charts;"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,GAAG,EAAEC,IAAI,QAAQ,iBAAiB;AAC3C,SAASC,eAAe,QAAQ,gCAAgC;AAChE,SAASC,UAAU,QAAQ,qBAAqB;AAChD,SACEC,KAAK,IAAIC,OAAO,EAChBC,aAAa,EACbC,WAAW,EACXC,UAAU,EACVC,WAAW,EACXC,YAAY,EACZC,KAAK,EACLC,OAAO,EACPC,MAAM,QACD,UAAU;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAElBV,OAAO,CAACW,QAAQ,CAACV,aAAa,EAAEC,WAAW,EAAEC,UAAU,EAAEC,WAAW,EAAEC,YAAY,EAAEC,KAAK,EAAEC,OAAO,EAAEC,MAAM,CAAC;AAE3G,SAASI,MAAMA,CAAC;EAAEC;AAAa,CAAC,EAAE;EAAAC,EAAA;EAChC,MAAM,CAACC,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGtB,QAAQ,CAAC;IAAEuB,MAAM,EAAE,EAAE;IAAEC,QAAQ,EAAE;EAAG,CAAC,CAAC;EACxF,MAAM,CAACC,aAAa,EAAEC,gBAAgB,CAAC,GAAG1B,QAAQ,CAAC;IAAEuB,MAAM,EAAE,EAAE;IAAEC,QAAQ,EAAE;EAAG,CAAC,CAAC;EAEhFzB,SAAS,CAAC,MAAM;IACd,IAAIoB,YAAY,IAAIA,YAAY,CAACQ,MAAM,GAAG,CAAC,EAAE;MAC3C;MACA,MAAMC,kBAAkB,GAAGT,YAAY,CACpCU,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACC,IAAI,KAAK,SAAS,CAAC,CACjCC,GAAG,CAACF,CAAC,KAAK;QAAE,GAAGA,CAAC;QAAEG,MAAM,EAAEC,IAAI,CAACC,GAAG,CAACD,IAAI,CAACE,GAAG,CAACN,CAAC,CAACG,MAAM,CAAC,EAAE,KAAK,CAAC,IAAIH,CAAC,CAACG,MAAM,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC;MAAE,CAAC,CAAC,CAAC,CAC3FI,MAAM,CAAC,CAACC,GAAG,EAAER,CAAC,KAAK;QAClBQ,GAAG,CAACR,CAAC,CAACS,QAAQ,CAAC,GAAG,CAACD,GAAG,CAACR,CAAC,CAACS,QAAQ,CAAC,IAAI,CAAC,IAAIT,CAAC,CAACG,MAAM;QACnD,OAAOK,GAAG;MACZ,CAAC,EAAE,CAAC,CAAC,CAAC;MACR,MAAME,cAAc,GAAGC,MAAM,CAACC,IAAI,CAACd,kBAAkB,CAAC;MACtD,MAAMe,YAAY,GAAGF,MAAM,CAACG,MAAM,CAAChB,kBAAkB,CAAC;;MAEtD;MACA,MAAMiB,cAAc,GAAG1B,YAAY,CAChCU,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACC,IAAI,KAAK,SAAS,CAAC,CACjCC,GAAG,CAACF,CAAC,KAAK;QAAE,GAAGA,CAAC;QAAEG,MAAM,EAAEC,IAAI,CAACC,GAAG,CAACD,IAAI,CAACE,GAAG,CAACN,CAAC,CAACG,MAAM,CAAC,EAAE,KAAK,CAAC,IAAIH,CAAC,CAACG,MAAM,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC;MAAE,CAAC,CAAC,CAAC,CAC3FI,MAAM,CAAC,CAACC,GAAG,EAAER,CAAC,KAAK;QAClB,MAAMgB,IAAI,GAAG1C,UAAU,CAAC0B,CAAC,CAACgB,IAAI,CAAC;QAC/BR,GAAG,CAACQ,IAAI,CAAC,GAAG,CAACR,GAAG,CAACQ,IAAI,CAAC,IAAI,CAAC,IAAIhB,CAAC,CAACG,MAAM;QACvC,OAAOK,GAAG;MACZ,CAAC,EAAE,CAAC,CAAC,CAAC;MACR,MAAMS,UAAU,GAAGN,MAAM,CAACC,IAAI,CAACG,cAAc,CAAC,CAACG,IAAI,CAAC,CAAC;MACrD,MAAMC,QAAQ,GAAGR,MAAM,CAACG,MAAM,CAACC,cAAc,CAAC;MAE9CvB,oBAAoB,CAAC;QACnBC,MAAM,EAAEiB,cAAc;QACtBhB,QAAQ,EAAE,CAAC;UACT0B,KAAK,EAAE,sBAAsB;UAC7BC,IAAI,EAAER,YAAY;UAClBS,eAAe,EAAE,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC;UACxEC,WAAW,EAAE,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC;UACpEC,WAAW,EAAE;QACf,CAAC;MACH,CAAC,CAAC;MAEF5B,gBAAgB,CAAC;QACfH,MAAM,EAAEwB,UAAU;QAClBvB,QAAQ,EAAE,CAAC;UACT0B,KAAK,EAAE,kBAAkB;UACzBC,IAAI,EAAEF,QAAQ;UACdM,IAAI,EAAE,KAAK;UACXF,WAAW,EAAE,SAAS;UACtBG,OAAO,EAAE;QACX,CAAC;MACH,CAAC,CAAC;IACJ;EACF,CAAC,EAAE,CAACrC,YAAY,CAAC,CAAC;EAElB,MAAMsC,YAAY,GAAG;IACnBC,UAAU,EAAE,IAAI;IAChBC,mBAAmB,EAAE,KAAK;IAC1BC,MAAM,EAAE;MAAEC,CAAC,EAAE;QAAEC,WAAW,EAAE,IAAI;QAAEC,KAAK,EAAE;UAAEC,OAAO,EAAE,IAAI;UAAEC,IAAI,EAAE;QAAa;MAAE;IAAE,CAAC;IAClFC,OAAO,EAAE;MAAEC,MAAM,EAAE;QAAEC,QAAQ,EAAE;MAAM,CAAC;MAAEL,KAAK,EAAE;QAAEC,OAAO,EAAE,IAAI;QAAEC,IAAI,EAAE;MAAG;IAAE;EAC7E,CAAC;EAED,oBACEjD,OAAA;IAAKqD,SAAS,EAAC,MAAM;IAAAC,QAAA,gBACnBtD,OAAA;MAAIqD,SAAS,EAAC,YAAY;MAAAC,QAAA,EAAC;IAAgB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAChD1D,OAAA;MAAK2D,KAAK,EAAE;QAAEC,MAAM,EAAE;MAAQ,CAAE;MAAAN,QAAA,gBAC9BtD,OAAA;QAAAsD,QAAA,EAAI;MAAoB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC7B1D,OAAA,CAACf,GAAG;QAACkD,IAAI,EAAE9B,iBAAkB;QAACwD,OAAO,EAAE;UAAE,GAAGpB,YAAY;UAAES,OAAO,EAAE;YAAE,GAAGT,YAAY,CAACS,OAAO;YAAEH,KAAK,EAAE;cAAEE,IAAI,EAAE;YAAuB;UAAE;QAAE;MAAE;QAAAM,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC1I,CAAC,eACN1D,OAAA;MAAK2D,KAAK,EAAE;QAAEC,MAAM,EAAE,OAAO;QAAEE,SAAS,EAAE;MAAO,CAAE;MAAAR,QAAA,gBACjDtD,OAAA;QAAAsD,QAAA,EAAI;MAAgB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACzB1D,OAAA,CAACd,IAAI;QAACiD,IAAI,EAAE1B,aAAc;QAACoD,OAAO,EAAE;UAAE,GAAGpB,YAAY;UAAEG,MAAM,EAAE;YAAE,GAAGH,YAAY,CAACG,MAAM;YAAEmB,CAAC,EAAE;cAAEhB,KAAK,EAAE;gBAAEC,OAAO,EAAE,IAAI;gBAAEC,IAAI,EAAE;cAAO;YAAE;UAAE,CAAC;UAAEC,OAAO,EAAE;YAAE,GAAGT,YAAY,CAACS,OAAO;YAAEH,KAAK,EAAE;cAAEE,IAAI,EAAE;YAAmB;UAAE;QAAE;MAAE;QAAAM,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACtN,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACtD,EAAA,CAzEQF,MAAM;AAAA8D,EAAA,GAAN9D,MAAM;AA2Ef,eAAeA,MAAM;AAAC,IAAA8D,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}